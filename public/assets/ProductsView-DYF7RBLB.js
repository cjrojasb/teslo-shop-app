import{B as h,g as u}from"./get-products.action-Cc0xYUdR.js";import{g as f,h as y,k as _,d as g,i as b,c as i,b as e,F as w,e as v,u as l,a as p,r as q,o as c,n as k,w as C,m as P,t as d}from"./index-ChILaYwf.js";import{u as B,a as N}from"./get-product-image.action-C1HeA91k.js";const F=()=>{const r=_(),o=f(Number(r.query.page||1));return y(()=>r.query.page,t=>{o.value=Number(t)||1,window.scrollTo({top:0,behavior:"smooth"})}),{page:o}},L={class:"bg-white px-5 py-2 rounded"},V={class:"py-8 w-full"},z={class:"shadow overflow-hidden rounded border-b border-gray-200"},Q={class:"min-w-full bg-white"},R={class:"text-gray-700"},T={class:"text-left py-3 px-4"},j=["src","alt"],E={class:"text-left py-3 px-4"},K={class:"text-left py-3 px-4"},S={class:"bg-blue-200 text-blue-700 py-1 px-3 rounded-full text-xs font-bold"},$={class:"text-left py-3 px-4"},J=g({__name:"ProductsView",setup(r){const o=B(),{page:t}=F(),{isLoading:A,data:n}=N({queryKey:["products",{page:t}],queryFn:()=>u(t.value)});return b(()=>{o.prefetchQuery({queryKey:["products",{page:t.value+1}],queryFn:()=>u(t.value+1)})}),(D,a)=>{const x=q("RouterLink");return c(),i("div",L,[a[1]||(a[1]=e("h1",{class:"text-3xl"},"Products",-1)),e("div",V,[e("div",z,[e("table",Q,[a[0]||(a[0]=e("thead",{class:"bg-gray-800 text-white"},[e("tr",null,[e("th",{class:"w-10 text-left py-3 px-4 uppercase font-semibold text-sm"},"Image"),e("th",{class:"flex-1 text-left py-3 px-4 uppercase font-semibold text-sm"},"Title"),e("th",{class:"w-28 text-left py-3 px-4 uppercase font-semibold text-sm"},"Price"),e("th",{class:"w-60 text-left py-3 px-4 uppercase font-semibold text-sm"},"Sizes")])],-1)),e("tbody",R,[(c(!0),i(w,null,v(l(n),(s,m)=>(c(),i("tr",{key:s.id,class:k({"bg-gray-100":m%2===0})},[e("td",T,[e("img",{src:s.images[0],alt:s.title,class:"h-10 w-10 object-cover rounded"},null,8,j)]),e("td",E,[p(x,{class:"hover:text-blue-500 hover:underline transition-all",to:`/admin/products/${s.id}`},{default:C(()=>[P(d(s.title),1)]),_:2},1032,["to"])]),e("td",K,[e("span",S," $"+d(s.price),1)]),e("td",$,d(s.sizes.join(", ")),1)],2))),128))])])]),p(h,{page:l(t),"has-more-data":!!l(n)&&l(n).length<10},null,8,["page","has-more-data"])])])}}});export{J as default};
